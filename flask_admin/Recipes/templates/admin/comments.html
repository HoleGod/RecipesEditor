{% extends 'admin_base.html' %}

{% block head %}
	<style>
		.table-container {
			background-color: white;
			padding: 20px;
			border-radius: 12px;
			box-shadow: 0 5px 15px rgba(0,0,0,0.1);
			margin-top: 20px;
		}
		.table thead th {
			border-bottom: 2px solid #5c33f6;
			color: #5c33f6;
		}
		.badge {
			padding: 6px 10px;
			border-radius: 10px;
			font-size: 0.85rem;
			font-weight: 600;
		}
		.btn-sm {
			padding: 4px 8px;
			font-size: 0.85rem;
		}
	</style>
{% endblock %}

{% block content %}
	<div class="container mt-4">
		<h1 class="mb-4 text-primary">Comments</h1>

		<div class="table-container shadow-lg mt-2">
			<table class="table table-striped table-hover" id="commentsTable">
				<thead>
					<tr>
						<th>ID</th>
						<th>Author</th>
						<th>Text</th>
						<th>Posted at</th>
						<th>Delete</th>
					</tr>
				</thead>
				<tbody>
					{% for c in comments %}
					<tr data-id="{{ c.id }}">
						<td>{{ c.id }}</td>
						<td>{{ c.author }}</td>
						<td>{{ c.text[:10] }}{% if c.text|length > 10 %}...{% endif %}</td>
						<td><span class="badge bg-secondary">{{ c.created_at.strftime('%Y-%m-%d %H:%M') }}</span></td>
						<td>
							<form action="{{ url_for('admin.delete_comment') }}" method="post" style="display:inline;" onsubmit="return confirm('Are you sure?');">
								<input type="hidden" name="comment_id" value="{{ c.id }}">
								<button type="sumbit" class="btn btn-outline-danger btn-sm delete-btn">
									Delete
								</button>
							</form>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
{% endblock %}

{% block script %}
{% endblock %}

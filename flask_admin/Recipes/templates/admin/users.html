{% extends 'admin_base.html' %}

{% block head %}
	<style>
		.table-container {
			background-color: white;
			padding: 20px;
			border-radius: 12px;
			box-shadow: 0 5px 15px rgba(0,0,0,0.1);
			margin-top: 20px;
			overflow-x: auto;
		}
		.table thead th {
			border-bottom: 2px solid #5c33f6;
			color: #5c33f6;
		}
		.badge {
			padding: 6px 10px;
			border-radius: 10px;
			font-size: 0.85rem;
			font-weight: 600;
		}
		.btn-sm {
			padding: 4px 8px;
			font-size: 0.85rem;
			border-radius: 8px;
		}
	</style>
{% endblock %}

{% block content %}
	<div class="container mt-4">
		<h1 class="mb-4 text-primary">Users</h1>

		<div class="table-container">
			<table class="table table-striped table-hover" id="usersTable">
				<thead>
					<tr>
						<th>ID</th>
						<th>Name</th>
						<th>Username</th>
						<th>Email</th>
						<th>Address</th>
						<th>Role</th>
						<th>Delete</th>
					</tr>
				</thead>
				<tbody>
					{% for u in users %}
					<tr data-id="{{ u.id }}">
						<td>{{ u.id }}</td>
						<td>{{ u.name }}</td>
						<td>{{ u.username }}</td>
						<td>{{ u.email }}</td>
						<td>{{ u.address }}</td>
						<td>
                            {% if u.role == 'admin' %}
                                <span class="badge bg-danger">{{ u.role }}</span>
                            {% elif u.role == 'moderator' %}
                                <span class="badge bg-warning text-dark">{{ u.role }}</span>
                            {% else %}
                                <span class="badge bg-secondary">{{ u.role }}</span>
                            {% endif %}
                        </td>
						<td>
                            <form action="{{ url_for('admin.delete_user')}}" method="post" style="display:inline;" onsubmit="return confirm('Are you sure?');">
                                <input type="hidden" name="user_id" value="{{ u.id }}">
                                <button type="sumbit" class="btn btn-outline-danger btn-sm delete-btn">
                                    Delete
                                </button>
                            </form>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
{% endblock %}